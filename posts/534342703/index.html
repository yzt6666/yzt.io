<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, shrink-to-fit=no">
    <meta name="referrer" content="origin">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <title>
        
            k8s操作命令
        
    </title>
    <link rel="shortcut icon" href="#"/>

    <link type="text/css" rel="stylesheet" href="/font/LongCang.css">
    <link type="text/css" rel="stylesheet" href="/font/Monda.css">
    <link type="text/css" rel="stylesheet" href="/font/NotoSansSC.css">
    <link type="text/css" rel="stylesheet" href="/font/NotoSerifSC.css">
    <link type="text/css" rel="stylesheet" href="/font/Playball.css">
    <link type="text/css" rel="stylesheet" href="/font/PTMono.css">
    <link type="text/css" rel="stylesheet" href="/font/Roboto.css">
    <link type="text/css" rel="stylesheet" href="/font/RobotoSlab.css">
    <link type="text/css" rel="stylesheet" href="/font/Rosario.css">
    <link type="text/css" rel="stylesheet" href="/font/UbuntuMono.css">

    <link type="text/css" rel="stylesheet" href="/css/base.css">
    <link type="text/css" rel="stylesheet" href="/css/code.css">

    <script type="text/javascript" src="/js/jquery-3.4.1.min.js"></script>
<meta name="generator" content="Hexo 6.3.0"></head>
<body>
    <a id="cover"></a>
    <link type="text/css" rel="stylesheet" href="/css/post.css">
<div id="header" class="header">
    <div class="vertical">
        <div class="inner">
            
                <h1 class="header-subtitle">k8s操作命令</h1>
                <div class="header-subinfo">
                    <p class="article-info-text">
                        <span>
                            <i class="iconfont icon-time"></i> 发表时间：2024-05-20
                        </span>
                        
                            
                                <span id="/posts/534342703/" class="leancloud_visitors" data-flag-title="k8s操作命令">
                                    <i class="iconfont icon-browse"></i> 阅读：<sapn class="leancloud-visitors-count"></span>
                                </span>
                            
                            
                                <span>
                                    <i class="iconfont icon-interactive"></i> 评论：<span class="valine-comment-count" data-xid="/posts/534342703/"></span>
                                </span>
                              
                        
                    </p>
                    
                        
                            <span class="category-color">面试题</span>
                        
                    
                    
                </div>
            
        </div>
    </div>
    
</div>
<div id="container">
    
        <!-- 文章页面 -->
        <div id="article">
            <div class="toc"></div>
            <div class="article-body">
                <p><img src="https://cdn.nlark.com/yuque/0/2019/png/126351/1555230726609-a58ed064-7d08-44ef-beb8-01abdabf8afc.png?x-oss-process=image/watermark,type_d3F5LW1pY3JvaGVp,size_159,text_cG9sYXJpcw==,color_FFFFFF,shadow_50,t_80,g_se,x_10,y_10" alt="img"></p>
<h1 id="生命周期管理"><a href="#生命周期管理" class="headerlink" title="生命周期管理"></a>生命周期管理</h1><h2 id="1-创建"><a href="#1-创建" class="headerlink" title="1. 创建"></a>1. 创建</h2><h3 id="1-创建资源"><a href="#1-创建资源" class="headerlink" title="1. 创建资源"></a>1. 创建资源</h3><ul>
<li><p><strong>kubectl run</strong></p>
</li>
<li><ul>
<li>创建并运行一个或多个容器镜像。</li>
<li>***创建一个deployment或job来管理容器***。</li>
</ul>
</li>
</ul>
<p><strong>语法</strong>：kubectl run NAME –image&#x3D;image [–env&#x3D;”key&#x3D;value”] [–port&#x3D;port] [–replicas&#x3D;replicas] [–dry-run&#x3D;bool] [–overrides&#x3D;inline-json] [–command] – [COMMAND] [args…]</p>
<pre><code class="bash">kubectl run nginx --replicas=3 --labels=&quot;app-nginx-example&quot; --image=nginx:1.10 --port=80
</code></pre>
<ul>
<li><strong>kubectl create</strong></li>
</ul>
<pre><code class="bash">kubectl create deployment nginx --image=nginx
# 根据yaml配置文件创建资源对象
kubectl create -f zookeeper.yaml
# 根据yaml配置文件一次创建Service和RC
kubectl create -f my-service.yaml -f my-rc.yaml
# 创建名称空间
kubectl create namespace bigdata
</code></pre>
<ul>
<li><strong>kubectl apply</strong></li>
</ul>
<pre><code class="bash">kubectl apply deployment nginx --image=nginx
# 使用yaml文件创建资源
kubectl apply -f zookeeper.yaml
</code></pre>
<h3 id="2-标签操作"><a href="#2-标签操作" class="headerlink" title="2. 标签操作"></a>2. 标签操作</h3><ul>
<li><strong>查询标签</strong></li>
</ul>
<pre><code class="bash">kubectl get nodes --show-labels
</code></pre>
<ul>
<li><strong>添加****标签</strong></li>
</ul>
<pre><code class="bash"># 为指定节点添加标签
kubectl label nodes nodeName labelName=value
# 为指定Pod添加标签
kubectl label pod podName -n nsName labelName=value
</code></pre>
<ul>
<li><strong>修改****标签</strong></li>
</ul>
<pre><code class="bash"># 修改节点标签值
kubectl label nodes nodeName
# 修改Pod标签值（需要overwrite参数）
kubectl label pod podName -n nsName labelName=value --overwrite
</code></pre>
<ul>
<li><strong>删除****标签</strong></li>
</ul>
<pre><code class="bash"># 为指定节点删除标签
kubectl label nodes nodeName labelName-
# 删除Pod标签
kubectl label pod podName -n nsName labelName-
</code></pre>
<h2 id="2-查看"><a href="#2-查看" class="headerlink" title="2. 查看"></a>2. 查看</h2><pre><code class="bash"># 查看集群状态
kubectl get cs

# 查看Pod
kubectl get pods
kubectl get pod
kubectl get po

# 查看指定名称Pod
kubectl get pod mynginx
kubectl get pod/mynginx

# 同时查看多个资源
kubectl get deploy,pods

# 查看Pod端口信息
kubectl get pod,svc

# 特定命名空间资源查看
kubectl get pods -n bigdata

# 查看所有命名空间下的pod信息
kubectl get pod --all-namespaces
kubectl get pods --A

# 获取Pod运行在哪个节点上的信息
kubectl get pod -o wide

# 显示Pod标签信息
kubectl get pods --show-labels

# 查看特定标签的Pod
kubectl get pods -l app=example

# 以JSON格式显示Pod的详细信息
kubectl get pod podName -o json

# 查看RS
kubectl get replicasets -o wide

# 查看Deployments
kubectl get deployments -o wide

# 查看ip和端口，也叫端点
kubectl get ep

# 查看事件
kubectl get ev
</code></pre>
<ul>
<li><strong>yaml方式</strong></li>
</ul>
<pre><code class="bash"># 以yaml格式显示Pod的详细信息
kubectl get pod podName -o yaml
kubectl get pod -f pod.yaml
kubectl get pod -f pod1.yaml -f pod2.yaml

# 用get生成yaml文件
kubectl get deploy/nginx --export -o yaml &gt; my-deploy2.yaml

# 查看资源子节点详情
kubectl explain pods.spec.containers

# 用run命令生成yaml文件，dry-run尝试运行，但不会生成，可用于检查语法错误
kubectl run nginx --image=nginx:latest --port=80 --replicas=3 --dry-run
# 尝试运行，并生成yaml文件
kubectl run nginx --image=nginx:latest --port=80 --replicas=3 --dry-run -o yaml &gt; my-deploy.yaml
</code></pre>
<h2 id="3-发布"><a href="#3-发布" class="headerlink" title="3. 发布"></a>3. 发布</h2><pre><code class="bash"># 暴露端口
kubectl expose deployment nginx --port=80 --type=NodePort
kubectl expose deployment nginx --port=80 --type=NodePort --target-port=80 --name=nginx-service

# 输出为yaml文件（推荐）
kubectl expose deployment nginx --port=80 --type=NodePort --target-port=80 --name=web1 -o yaml &gt; web1.yaml
kubectl expose deployment nginx -n bigdata --port=80 --type=NodePort
</code></pre>
<h2 id="4-故障排查"><a href="#4-故障排查" class="headerlink" title="4. 故障排查"></a>4. 故障排查</h2><h3 id="1-资源详情排查"><a href="#1-资源详情排查" class="headerlink" title="1. 资源详情排查"></a>1. 资源详情排查</h3><pre><code class="bash"># 显示Node的详细信息
kubectl describe nodes nodeNamePrefix
# 显示Pod的详细信息
kubectl describe pods  podNamePrefix
# 显示由RC管理的Pod的信息
kubectl describe pods  rcNamePrefix
</code></pre>
<h3 id="2-资源日志排查"><a href="#2-资源日志排查" class="headerlink" title="2. 资源日志排查"></a>2. 资源日志排查</h3><pre><code class="bash"># 容器日志查看
kubectl logs zk-0
kubectl logs zk-0 -n bigdata
# 跟踪查看容器的日志，相当于tail -f命令的结果
kubectl logs -f &lt;pod-name&gt; -c &lt;container-name&gt;
</code></pre>
<h3 id="3-进入资源容器"><a href="#3-进入资源容器" class="headerlink" title="3. 进入资源容器"></a>3. 进入资源容器</h3><pre><code class="bash"># 进入容器
kubectl exec -it podName -n nsName /bin/sh    
kubectl exec -it podName -n nsName /bin/bash
</code></pre>
<h2 id="5-更新"><a href="#5-更新" class="headerlink" title="5. 更新"></a>5. 更新</h2><h3 id="1-版本更新"><a href="#1-版本更新" class="headerlink" title="1. 版本更新"></a>1. 版本更新</h3><pre><code class="bash">kubectl set image deployment/nginx nginx=nginx:1.15
# 记录更新操作命令以便后续查看变更历史
kubectl set image deployment/nginx nginx=nginx:1.15 --record
</code></pre>
<h3 id="2-编辑更新"><a href="#2-编辑更新" class="headerlink" title="2. 编辑更新"></a>2. 编辑更新</h3><pre><code class="bash">kubectl edit deployment/nginx
</code></pre>
<h3 id="3-滚动更新"><a href="#3-滚动更新" class="headerlink" title="3. 滚动更新"></a>3. 滚动更新</h3><pre><code class="bash">kubectl rolling-update frontend-v1 frontend-v2 --image=image:v2
kubectl rolling-update frontend --image=image:v2
kubectl rolling-update frontend-v1 frontend-v2 --rollback
</code></pre>
<h3 id="4-替换更新"><a href="#4-替换更新" class="headerlink" title="4. 替换更新"></a>4. 替换更新</h3><pre><code class="bash">kubectl replace -f zookersts.yaml
</code></pre>
<h3 id="5-扩缩容"><a href="#5-扩缩容" class="headerlink" title="5. 扩缩容"></a>5. 扩缩容</h3><pre><code class="bash">kubectl scale deployment nginx --replicas=10
</code></pre>
<h2 id="6-回滚"><a href="#6-回滚" class="headerlink" title="6. 回滚"></a>6. 回滚</h2><pre><code class="bash"># 查看更新过程
kubectl rollout status deployment/nginx --namespace=nsName
# 如果更新成功, 返回值为0 
kubectl rollout status deployment nginx-deployment --watch=false | grep -ic waiting

# 查看变更历史版本信息
kubectl rollout history deployment/nginx
kubectl rollout history deployment/nginx --revision=3 --namespace=nsName

# 终止升级
kubectl rollout pause deployment/nginx --namespace=nsName

# 继续升级
kubectl rollout resume deployment/review-demo --namespace=nsName

# 回滚版本
kubectl rollout undo deployment/nginx --namespace=nsName
kubectl rollout undo deployment/nginx --to-revision=3  --namespace=nsName
</code></pre>
<h2 id="7-清理"><a href="#7-清理" class="headerlink" title="7. 清理"></a>7. 清理</h2><pre><code class="bash"># 删除资源
kubectl delete deploy/nginx
kubectl delete svc/nginx-service

# 删除所有Pod
kubectl delete pods --all

# 删除所有包含某个label的Pod和Service
kubectl delete pod,service -l name=labelName

# 基于yaml定义的名称删除
kubectl delete -f pod.yaml

# 删除指定命名空间
kubectl delete ns nsName

# 删除指定命名空间的资源
kubectl delete pod zk-0 -n bigdata
kubectl delete pod --all -n bigdata

# 删除计时（观察删除总耗时）
time -p kubectl delete pod podName

# 强制删除（默认：30s）
# 指定删除延迟时间：0s，整体删除时间会明显降低
kubectl delete pod podName -n nsName --grace-period=0 --force
# 以下两行命令功能相同（grace-period=1，等价于now，立即执行）
kubectl delete pod podName -n nsName --grace-period=1
kubectl delete pod podName -n nsName --now
# 删除所有Pods
kubectl delete pods --all --force --grace-period=0
</code></pre>
<h1 id="常用操作命令"><a href="#常用操作命令" class="headerlink" title="常用操作命令"></a>常用操作命令</h1><table>
<thead>
<tr>
<th><strong>类型</strong></th>
<th><strong>命令</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>基础命令</strong></td>
<td><strong>create</strong></td>
<td>通过文件名或标准输入创建资源</td>
</tr>
<tr>
<td><strong>expose</strong></td>
<td>将一个资源公开为一个新的Service</td>
<td></td>
</tr>
<tr>
<td><strong>run</strong></td>
<td>在集群中运行一个特定的镜像</td>
<td></td>
</tr>
<tr>
<td><strong>set</strong></td>
<td>在对象上设置特定的功能</td>
<td></td>
</tr>
<tr>
<td><strong>get</strong></td>
<td>显示一个或多个资源</td>
<td></td>
</tr>
<tr>
<td><strong>explain</strong></td>
<td>文档参考资料</td>
<td></td>
</tr>
<tr>
<td><strong>edit</strong></td>
<td>使用默认的编辑器编辑资源</td>
<td></td>
</tr>
<tr>
<td><strong>delete</strong></td>
<td>通过文件名、标准输入、资源名称或标签选择器来删除资源</td>
<td></td>
</tr>
<tr>
<td><strong>部署命令</strong></td>
<td><strong>rollout</strong></td>
<td>管理资源的发布</td>
</tr>
<tr>
<td><strong>rolling-update</strong></td>
<td>对给定的复制控制器滚动更新</td>
<td></td>
</tr>
<tr>
<td><strong>scale</strong></td>
<td>扩容或缩容Pod、Deployment、ReplicaSet、RC或Job</td>
<td></td>
</tr>
<tr>
<td><strong>autoscale</strong></td>
<td>创建一个自动选择扩容或缩容并设置Pod数量</td>
<td></td>
</tr>
<tr>
<td><strong>集群管理命令</strong></td>
<td><strong>certificate</strong></td>
<td>修改证书资源</td>
</tr>
<tr>
<td><strong>cluster-info</strong></td>
<td>显示集群信息</td>
<td></td>
</tr>
<tr>
<td><strong>top</strong></td>
<td>显示资源（CPU、Memory、Storage）使用。需要Heapster运行</td>
<td></td>
</tr>
<tr>
<td><strong>cordon</strong></td>
<td>标记节点不可调度</td>
<td></td>
</tr>
<tr>
<td><strong>uncordon</strong></td>
<td>标记节点可调度</td>
<td></td>
</tr>
<tr>
<td><strong>drain</strong></td>
<td>维护期间排除节点（驱除节点上的应用，准备下线维护）</td>
<td></td>
</tr>
<tr>
<td><strong>taint</strong></td>
<td>设置污点属性</td>
<td></td>
</tr>
<tr>
<td><strong>故障诊断和调试命令</strong></td>
<td><strong>describe</strong></td>
<td>显示特定资源或资源组的详细信息</td>
</tr>
<tr>
<td><strong>logs</strong></td>
<td>在一个Pod中打印一个容器日志。如果Pod只有一个容器，容器名称是可选的</td>
<td></td>
</tr>
<tr>
<td><strong>attach</strong></td>
<td>附加到一个运行的容器</td>
<td></td>
</tr>
<tr>
<td><strong>exec</strong></td>
<td>执行命令到容器</td>
<td></td>
</tr>
<tr>
<td><strong>port-forward</strong></td>
<td>转发一个或多个本地端口到一个Pod</td>
<td></td>
</tr>
<tr>
<td><strong>proxy</strong></td>
<td>运行一个proxy到Kubernetes API Server</td>
<td></td>
</tr>
<tr>
<td><strong>cp</strong></td>
<td>拷贝文件或目录到容器</td>
<td></td>
</tr>
<tr>
<td><strong>auth</strong></td>
<td>检查授权</td>
<td></td>
</tr>
<tr>
<td><strong>高级命令</strong></td>
<td><strong>apply</strong></td>
<td>通过文件名或标准输入对资源应用配置</td>
</tr>
<tr>
<td><strong>patch</strong></td>
<td>使用补丁修改、更新资源的字段</td>
<td></td>
</tr>
<tr>
<td><strong>replace</strong></td>
<td>通过文件名或标准输入替换一个资源</td>
<td></td>
</tr>
<tr>
<td><strong>convert</strong></td>
<td>不同的API版本之间转换配置文件</td>
<td></td>
</tr>
<tr>
<td><strong>设置命令</strong></td>
<td><strong>label</strong></td>
<td>更新资源上的标签</td>
</tr>
<tr>
<td><strong>annotate</strong></td>
<td>更新资源上的注释</td>
<td></td>
</tr>
<tr>
<td><strong>completion</strong></td>
<td>用于实现kubectl工具自动补全</td>
<td></td>
</tr>
<tr>
<td><strong>其他命令</strong></td>
<td><strong>api-versions</strong></td>
<td>打印支持的API版本</td>
</tr>
<tr>
<td><strong>config</strong></td>
<td>修改kubeconfig文件（用于访问API，比如配置认证信息）</td>
<td></td>
</tr>
<tr>
<td><strong>help</strong></td>
<td>所有命令帮助</td>
<td></td>
</tr>
<tr>
<td><strong>plugin</strong></td>
<td>运行一个命令行插件</td>
<td></td>
</tr>
<tr>
<td><strong>version</strong></td>
<td>打印客户端和服务版本信息</td>
<td></td>
</tr>
</tbody></table>
<h2 id="1-获取帮助"><a href="#1-获取帮助" class="headerlink" title="1. 获取帮助"></a>1. 获取帮助</h2><pre><code class="bash"># 检查kubectl是否安装
rpm -qa | grep kubectl
# 获取kubectl及其子命令帮助方法
kubectl --help
kubectl create --help
</code></pre>
<h2 id="1-Worker上执行kubectl"><a href="#1-Worker上执行kubectl" class="headerlink" title="1. Worker上执行kubectl"></a>1. Worker上执行kubectl</h2><pre><code class="bash"># Worker节点上执行
mkdir -p ~/.kube
scp master1:/root/.kube/config ~/.kube/
# 验证（查看K8s集群节点列表）
kubectl get nodes
</code></pre>
<h2 id="2-api相关操作命令"><a href="#2-api相关操作命令" class="headerlink" title="2. api相关操作命令"></a>2. api相关操作命令</h2><pre><code class="bash"># 查看api版本信息
kubectl api-versions
# 查看api资源列表
kubectl api-resources
</code></pre>
<h2 id="3-K8s相关进程操作命令"><a href="#3-K8s相关进程操作命令" class="headerlink" title="3. K8s相关进程操作命令"></a>3. K8s相关进程操作命令</h2><pre><code class="bash">netstat -lntp | grep kube-proxy
netstat -tnlp | grep kubelet
</code></pre>
<h2 id="4-节点操作命令"><a href="#4-节点操作命令" class="headerlink" title="4. 节点操作命令"></a>4. 节点操作命令</h2><ul>
<li><strong>加入新节点</strong></li>
</ul>
<pre><code class="bash"># 加入新节点，在master节点上执行，将输出再到新节点上执行
kubeadm token create --print-join-command
</code></pre>
<ul>
<li><strong>驱逐节点</strong></li>
</ul>
<pre><code class="bash"># 驱逐节点的Pod
kubectl drain nodeName
</code></pre>
<ul>
<li><strong>节点下线</strong></li>
</ul>
<pre><code class="bash"># 将节点标记为不可调度，不影响现有Pod（注意daemonSet不受影响）
kubectl cordon nodeName
</code></pre>
<ul>
<li><strong>节点上线</strong></li>
</ul>
<pre><code class="bash"># 维护结束，节点重新投入使用
kubectl uncordon nodeName
</code></pre>
<ul>
<li><strong>污点设置</strong></li>
</ul>
<pre><code class="bash"># 设置污点
kubectl taint nodes nodeName key1=value1:NoSchedule
kubectl taint nodes nodeName key1=value1:NoExecute
kubectl taint nodes nodeName key2=value2:NoSchedule
# 删除污点
kubectl taint nodes nodeName key1:NoSchedule-
kubectl taint nodes nodeName key1:NoExecute-
kubectl taint nodes nodeName key2:NoSchedule-
# 查看污点详情
kubectl describe nodes nodeName
</code></pre>
<h1 id="资源创建实例"><a href="#资源创建实例" class="headerlink" title="资源创建实例"></a>资源创建实例</h1><h2 id="Namespace"><a href="#Namespace" class="headerlink" title="Namespace"></a>Namespace</h2><h3 id="命令行方式"><a href="#命令行方式" class="headerlink" title="命令行方式"></a>命令行方式</h3><pre><code class="bash">kubectl create namespace bigdata
</code></pre>
<h3 id="yaml方式"><a href="#yaml方式" class="headerlink" title="yaml方式"></a>yaml方式</h3><pre><code class="bash">vi ns-test.yaml
</code></pre>
<p>编排文件如下：</p>
<pre><code class="yaml">apiVersion: v1
kind: Namespace
metadata:
  name: bigdata
</code></pre>
<p>执行yaml文件：</p>
<pre><code class="bash">kubectl apply -f ns-test.yaml
</code></pre>
<p>验证：</p>
<pre><code class="bash">kubectl get namespaces
kubectl get namespace
kubectl get ns
</code></pre>
<p>清除：</p>
<pre><code class="bash">kubectl delete -f ns-test.yaml
kubectl delete ns bigdata
</code></pre>
<h2 id="Pod"><a href="#Pod" class="headerlink" title="Pod"></a>Pod</h2><h3 id="命令行方式-1"><a href="#命令行方式-1" class="headerlink" title="命令行方式"></a>命令行方式</h3><p>未提供直接创建Pod的命令，命令行方式一般通过创建Deployment、RC、RS等资源间接创建Pod。</p>
<h3 id="yaml方式-1"><a href="#yaml方式-1" class="headerlink" title="yaml方式"></a>yaml方式</h3><pre><code class="bash">vi pod-test.yaml
</code></pre>
<p>编排文件如下：</p>
<pre><code class="yaml">apiVersion: v1
kind: Pod
metadata:
  name: pod1
spec:
  containers:
  - name: nginx-containers
    image: nginx:latest
</code></pre>
<p>执行yaml文件：</p>
<pre><code class="bash">kubectl apply -f pod-test.yaml
</code></pre>
<p>验证：</p>
<pre><code class="bash">kubectl get pods
kubectl get pod
kubectl get po
kubectl describe pod pod1
kubectl get pods -o wide
curl http://172.16.189.68
</code></pre>
<p>清除：</p>
<pre><code class="bash">kubectl delete -f pod-test.yaml
kubectl delete pod pod1
</code></pre>
<h2 id="Service"><a href="#Service" class="headerlink" title="Service"></a>Service</h2><h3 id="命令行方式-2"><a href="#命令行方式-2" class="headerlink" title="命令行方式"></a>命令行方式</h3><pre><code class="bash">kubectl run nginx-app --image=nginx:latest --image-pull-policy=IfNotPresent --replicas=2
kubectl expose deployment.apps nginx-app --type=ClusterIP --target-port=80 --port=83
</code></pre>
<p>参数说明：</p>
<ul>
<li><p><strong>expose</strong>：创建service。</p>
</li>
<li><p><strong>deployment.apps</strong>：控制器类型。</p>
</li>
<li><p><strong>nginx-app</strong>：应用名称，也是service名称。</p>
</li>
<li><p>**–type&#x3D;**<strong>ClusterIP</strong>：指定service类型。</p>
</li>
<li><p><strong>–<strong><strong>target-port</strong></strong>&#x3D;80</strong>：指定Pod中容器端口。</p>
</li>
<li><p><strong>–<strong><strong>port</strong></strong>&#x3D;80</strong>：指定service端口。</p>
</li>
</ul>
<p>验证：</p>
<pre><code class="bash">kubectl get service
kubectl get svc
kubectl get endpoints
kubectl get ep
curl http://10.104.173.230:83
kubectl get all
</code></pre>
<p>清除：</p>
<pre><code class="bash">kubectl delete service nginx-app
kubectl delete svc nginx-app
</code></pre>
<h3 id="yaml方式-2"><a href="#yaml方式-2" class="headerlink" title="yaml方式"></a>yaml方式</h3><pre><code class="bash">vi nginx-service.yaml
</code></pre>
<p>编排文件如下：</p>
<pre><code class="yaml">---
apiVersion: apps/v1
kind: Deployment
metadata: 
  name: nginx-app
  labels:
    app: nginx
spec: 
  replicas: 2
  selector:
    matchLabels:
      app: nginx
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
      - name: nginxapp
        image: nginx:latest
        imagePullPolicy: IfNotPresent
        ports:
        - containerPort: 80

---
apiVersion: v1
kind: Service
metadata:
  name: nginx-app-svc
  labels:
    name: nginx-app-svc
spec:
  type: ClusterIP
  ports: 
  - protocol: TCP
    port: 83
    targetPort: 80
  selector:
    app: nginx

---
apiVersion: v1
kind: Service
metadata:
  name: nginx-app-svc2
  labels:
    name: nginx-app-svc2
spec:
  type: NodePort
  ports: 
  - protocol: TCP
    port: 83
    targetPort: 80
    nodePort: 30083
  selector:
    app: nginx
</code></pre>
<p>执行yaml文件：</p>
<pre><code class="bash">kubectl apply -f nginx-service.yaml
</code></pre>
<p>验证：</p>
<pre><code class="bash">kubectl describe deployment nginx-app
kubectl describe svc nginx-app-svc
kubectl get service
kubectl get svc
kubectl get endpoints
kubectl get ep
# nginx-app-svc
curl http://10.107.141.109:83
# nginx-app-svc2
curl http://192.168.216.100:30083
# 查看k8s集群指定端口的侦听状态
ss -anput | grep &quot;:30083&quot;
kubectl get all
</code></pre>
<p>清除：</p>
<pre><code class="bash">kubectl delete -f nginx-service.yaml
kubectl delete service nginx-app-svc
kubectl delete svc nginx-app-svc
</code></pre>
<h1 id="常用控制器"><a href="#常用控制器" class="headerlink" title="常用控制器"></a>常用控制器</h1><h2 id="1-Deployment"><a href="#1-Deployment" class="headerlink" title="1. Deployment"></a>1. Deployment</h2><h3 id="命令行方式-3"><a href="#命令行方式-3" class="headerlink" title="命令行方式"></a>命令行方式</h3><pre><code class="bash">kubectl run nginx-app --image=nginx:latest --image-pull-policy=IfNotPresent --replicas=2
</code></pre>
<p>参数说明：</p>
<ul>
<li><p><strong>nginx-app</strong>：Deployment控制器类型的应用名称。</p>
</li>
<li><p><strong>–image&#x3D;nginx</strong>**:**<strong>latest</strong>：应用运行的Pod中的Container所使用的镜像。</p>
</li>
<li><p><strong>IfNotPresent</strong>：Container容器镜像下载策略，如果本地有镜像，使用本地，如果本地没有镜像，下载镜像。</p>
</li>
<li><p>**–<strong><strong>replicas</strong></strong>&#x3D;**<strong>2</strong>：是指应用运行的Pod共计2个副本，这是用户的期望值，Deployment控制器中的ReplicaSet控制器会一直监控此应用运行的Pod副本状态，如果数量达不到用户期望，就会重新拉起一个新的Pod，会让Pod数量一直维持在用户期望值数量。</p>
</li>
</ul>
<p>验证：</p>
<pre><code class="bash">kubectl get deployment.apps
kubectl get deployment
kubectl get deploy
kubectl get replicaset
kubectl get rs
kubectl get all
</code></pre>
<p>清除：</p>
<pre><code class="bash">kubectl delete deployment nginx-app
</code></pre>
<h3 id="yaml方式-3"><a href="#yaml方式-3" class="headerlink" title="yaml方式"></a>yaml方式</h3><pre><code class="bash">vi nginx-deployment.yaml
</code></pre>
<p>编排文件如下：</p>
<pre><code class="yaml">apiVersion: apps/v1
kind: Deployment
metadata: 
  name: nginx-app
  labels:
    app: nginx
spec: 
  replicas: 2
  selector:
    matchLabels:
      app: nginx
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
      - name: nginxapp
        image: nginx:latest
        imagePullPolicy: IfNotPresent
        ports:
        - containerPort: 80
</code></pre>
<p>执行yaml文件：</p>
<pre><code class="bash">kubectl apply -f nginx-deployment.yaml
</code></pre>
<p>验证：</p>
<pre><code class="bash">kubectl get deployment.apps
kubectl get deployment
kubectl get deploy
kubectl get replicaset
kubectl get rs
kubectl get all
kubectl describe deployment nginx-app
kubectl get pods -o wide
curl http://172.16.189.77
curl http://172.16.235.138
</code></pre>
<p>清除：</p>
<pre><code class="bash">kubectl delete -f nginx-deployment.yaml
kubectl delete deployment nginx-app
</code></pre>
<h2 id="2-ReplicaSet"><a href="#2-ReplicaSet" class="headerlink" title="2. ReplicaSet"></a>2. ReplicaSet</h2><h3 id="命令行方式-4"><a href="#命令行方式-4" class="headerlink" title="命令行方式"></a>命令行方式</h3><h3 id="yaml方式-4"><a href="#yaml方式-4" class="headerlink" title="yaml方式"></a>yaml方式</h3><h2 id="3-StatefulSet"><a href="#3-StatefulSet" class="headerlink" title="3. StatefulSet"></a>3. StatefulSet</h2><h3 id="命令行方式-5"><a href="#命令行方式-5" class="headerlink" title="命令行方式"></a>命令行方式</h3><h3 id="yaml方式-5"><a href="#yaml方式-5" class="headerlink" title="yaml方式"></a>yaml方式</h3><h2 id="4-DaemonSet"><a href="#4-DaemonSet" class="headerlink" title="4. DaemonSet"></a>4. DaemonSet</h2><h3 id="命令行方式-6"><a href="#命令行方式-6" class="headerlink" title="命令行方式"></a>命令行方式</h3><h3 id="yaml方式-6"><a href="#yaml方式-6" class="headerlink" title="yaml方式"></a>yaml方式</h3><h2 id="5-Job"><a href="#5-Job" class="headerlink" title="5. Job"></a>5. Job</h2><h3 id="命令行方式-7"><a href="#命令行方式-7" class="headerlink" title="命令行方式"></a>命令行方式</h3><h3 id="yaml方式-7"><a href="#yaml方式-7" class="headerlink" title="yaml方式"></a>yaml方式</h3><h2 id="6-CronJob"><a href="#6-CronJob" class="headerlink" title="6. CronJob"></a>6. CronJob</h2><h3 id="命令行方式-8"><a href="#命令行方式-8" class="headerlink" title="命令行方式"></a>命令行方式</h3><h3 id="yaml方式-8"><a href="#yaml方式-8" class="headerlink" title="yaml方式"></a>yaml方式</h3><h1 id="操作命令补充说明"><a href="#操作命令补充说明" class="headerlink" title="操作命令补充说明"></a>操作命令补充说明</h1><h2 id="1-create和apply的异同点"><a href="#1-create和apply的异同点" class="headerlink" title="1. create和apply的异同点"></a>1. create和apply的异同点</h2><ul>
<li><strong>create</strong></li>
</ul>
<p>先删除所有现有的东西，重新根据yaml文件生成新的。所以要求yaml文件中的配置必须是完整的。</p>
<ul>
<li><strong>apply</strong></li>
</ul>
<p>根据配置文件里面列出来的内容，升级现有的。所以yaml文件的内容可以只写需要升级的属性。apply命令将配置应用于资源。 如果资源不在那里，那么它将被创建。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2020/png/788484/1604280290859-1809687a-bf36-48db-9d92-297a240228cb.png?x-oss-process=image/watermark,type_d3F5LW1pY3JvaGVp,size_19,text_cG9sYXJpcw==,color_FFFFFF,shadow_50,t_80,g_se,x_10,y_10" alt="img"></p>
<p>从执行的角度来看，如上所示，在kubectl create和kubectl apply之间第一次创建资源时没有区别。 但是，第二次kubectl create会抛出错误。简单来说，如果在单个文件上运行操作以创建资源，则create和apply基本相同。 但是， apply允许您在目录下的多个文件上同时创建和修补。</p>

                
                <p class="end">__END__</p>
            </div>
            <div class="article-footer">
                <div class="suffix-box">
    <div class="suffix-box-left">
        <img src="/image/sidebar/avatar.jpg" alt="摆烂的阿腾">
    </div>
    <div class="suffix-box-right">
        <span class="suffix-box-title">文章作者：</span>摆烂的阿腾
        <br>
        <span class="suffix-box-title">文章出处：</span><a href="/posts/534342703/" target="_blank">k8s操作命令</a>
        <br>
        <span class="suffix-box-title">作者签名：</span>简单地活着, 肆意又精彩.
        <br>
        <span class="suffix-box-title">关于主题：</span><a href="https://github.com/first19326/Hexo-LiveForCode" target="_blank">Hexo - Live For Code</a>
        <br>
        <span class="suffix-box-title">版权声明：</span>文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" title="BY-NC-SA" target="_blank">BY-NC-SA</a> 许可协议，转载请注明出处
        <br>
    </div>
    <div style="clear: both;"></div>
</div>
                
                    <div class="category">
                        分类：
                        
                            <a href="/category/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a>
                        
                    </div>
                
                
                <div class="article-prev-next">
                    
                        <a href="/posts/1181449387/" class="prev-prefix">« </a> 上一篇：    <a href="/posts/1181449387/" title="发布于 2024-05-20 04:19">k8s的概述</a>
                        <br>
                    
                    
                        <a href="/posts/1641082666/" class="next-prefix">» </a> 下一篇：    <a href="/posts/1641082666/" title="发布于 2024-05-20 04:19">91道k8s面试题</a>
                    
                </div>
            </div>
            
    <div class="article-comments">
        
            <div class="comments-title">
                评论列表
            </div>
        
        <div class="comments-content"></div>
    </div>
    
 
        </div>
    
</div>
    <div id="footer">
    <div><span class='face'>ღゝ◡╹)ノ♡</span></div><div>【人生若只如初见<span><i class='iconfont icon-like-fill'></i></span>何事秋风悲画扇】</div><div>&copy; 2023-2024 WorstOne. All Rights Reserved.</div>
</div>
    <div id="sidebar">
    <div class="menu-wrap" style="display:none;">
        
            <div class="menu-notice">
                <span class="iconfont icon-notice"></span>
                <div class="notice">
                    <span>简单地活着，肆意而又精彩！</span>
                </div>
            </div>
        
        <nav class="menu">
            <div class="menu-introduce"> 
                <div class="introduce-avatar">
                    <img src="/image/sidebar/avatar.jpg">
                </div> 
                <div class="introduce-info"> 
                    <div class="introduce-user"><span>摆烂的阿腾</span></div>
                </div> 
            </div> 
            <div class="menu-list">
                <ul>
                    
                        <li class=""><a href="/" class="" target="_self"><span class="iconfont icon-home-fill"></span>首页</a></li>
                    
                        <li class=""><a href="/category" class="" target="_self"><span class="iconfont icon-folder-fill"></span>分类</a></li>
                    
                        <li class=""><a href="/tag" class="" target="_self"><span class="iconfont icon-discount-fill"></span>标签</a></li>
                    
                        <li class=""><a href="/archive" class="" target="_self"><span class="iconfont icon-calendar-fill"></span>归档</a></li>
                    
                        <li class=""><a href="/donate" class="" target="_self"><span class="iconfont icon-heart-fill"></span>赞赏</a></li>
                    
                        <li class=""><a href="/about" class="" target="_self"><span class="iconfont icon-about-fill"></span>关于</a></li>
                    
                        <li class=""><a href="/atom.xml" class="" target="_blank"><span class="iconfont icon-rss"></span>订阅</a></li>
                    
                        <li class=""><a href="javascript:;" class="search" target="_self"><span class="iconfont icon-search-menu"></span>搜索</a></li>
                    
                        <li class=""><a href="/comment" class="" target="_self"><span class="iconfont icon-comments-fill"></span>留言板</a></li>
                    
                        <li class=""><a href="/friend" class="" target="_self"><span class="iconfont icon-link"></span>友情链接</a></li>
                    
                </ul> 
            </div> 
            <div class="menu-link">
                <div class="box">
                    <div class="image-box"></div>
                </div>
                
                    <a name="知乎" href="https://www.zhihu.com/people/36-35-43-58" class="" target="_blank" data=""><span class="iconfont icon-zhihu"></span></a>
                
                    <a name="微博" href="https://weibo.com/u/7821302597" class="" target="_blank" data=""><span class="iconfont icon-weibo"></span></a>
                
                    <a name="QQ" href="javascript:;" class="image" target="_self" data="/image/sidebar/qq.png"><span class="iconfont icon-qq"></span></a>
                
                    <a name="微信" href="javascript:;" class="image" target="_self" data="/image/sidebar/wechat.png"><span class="iconfont icon-wechat"></span></a>
                
                    <a name="GitHub" href="https://github.com/yzt6666" class="" target="_blank" data=""><span class="iconfont icon-github"></span></a>
                
            </div> 
        </nav>
        <button class="menu-button-close"></button>
        <div class="morph-shape" id="morph-shape" data-morph-open="M-7.312,0H15c0,0,66,113.339,66,399.5C81,664.006,15,800,15,800H-7.312V0z;M-7.312,0H100c0,0,0,113.839,0,400c0,264.506,0,400,0,400H-7.312V0z">
            <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 800" preserveAspectRatio="none">
                <path d="M-7.312,0H0c0,0,0,113.839,0,400c0,264.506,0,400,0,400h-7.312V0z"/>
            </svg>
        </div>
    </div>
    <button class="menu-button-open">MENU</button>
    <div class="menu-cover"></div>
</div>
    <link type="text/css" rel="stylesheet" href="/css/search.css">
<script type="text/javascript" src="/js/iscroll.js"></script>
<script type="text/javascript" src="/js/instantsearch.min.js"></script>
<div class="search-window">
    <div class="search-content">
        <div class="search-content-icon">
            <i class="iconfont icon-search"></i>
        </div>
        <div id="search-input" class="search-input"></div>
    </div>

    <div class="search-scroll">
        <div class="search-result">
            <div id="search-stats" class="search-stats"></div>
            <div id="search-hits"></div>
            <div id="search-pagination" class="search-pagination"></div>
        </div>
    </div>

    <span class="search-close-icon">
        <i class="iconfont icon-close"></i>
    </span>
</div>
    <div id="tools">
    <div class="progressbar-top"></div>
    
    <link type="text/css" rel="stylesheet" href="/css/APlayer.css">
    <script type="text/javascript" src="/js/APlayer.min.js"></script>
    <script type="text/javascript" src="/js/Meting.min.js"></script>
    <meting-js id="3778678" lrcshow="false" server="netease" type="playlist" fixed="true" autoplay="false" loop="all" order="random" preload="auto" volume="0.67" mutex="true"></meting-js>

    <div class="wrap-right">
    <div class="wrap-right-hide">
         <div class="wrap-right-button favorites">
            <div class="iconbox" switch="false">
                <span class="iconfont icon-favorites"></span>
            </div>
            <span class="icontext">关注</span>
         </div>
        <div class="wrap-right-button search">
            <div class="iconbox">
                <span class="iconfont icon-search-menu"></span>
            </div>
            <span class="icontext">搜索</span>
        </div>
        <div class="wrap-right-button menu-button">
            <div class="iconbox">
                <span class="iconfont icon-menu"></span>
            </div>
            <span class="icontext">菜单</span>
        </div>
        <div class="wrap-right-button mode">
            <div class="light">
                <div class="iconbox">
                    <span class="iconfont icon-daymode"></span>
                </div>
                <span class="icontext">浅色模式</span>
            </div>
            <div class="dark">
                <div class="iconbox">
                    <span class="iconfont icon-nightmode-fill"></span>
                </div>
                <span class="icontext">深色模式</span>
            </div>
        </div>
        <div class="wrap-right-button bottom">
            <div class="iconbox">
                <span class="iconfont icon-top"></span>
            </div>
            <span class="icontext">跳至底部</span>
        </div>
    </div>
    <div class="wrap-right-show">
        <div class="wrap-right-button set">
            <div class="iconbox">
                <span class="iconfont icon-setting"></span>
            </div>
            <span class="icontext">设置</span>
        </div>
        <div class="wrap-right-button top">
            <div class="iconbox">
                <span class="iconfont icon-top"></span>
            </div>
            <span class="icontext">返回顶部</span>
        </div>
    </div>
</div>
    <div class="loading"></div>
</div>
    <script>
    window.config = {
        GitHubUserName     : "yzt6666",
        GitHubRepositories : "yzt6666.github.io",

        User             : "摆烂的阿腾",
        UserAvatar       : "/image/sidebar/avatar.jpg",
        WebsiteStartDate : "2023-04-26",

        WebsiteTitleBlur         : "(◍´꒳`◍) Hi, 阿腾",
        WebsiteTitleBlurTimeOut  : 500,
        WebsiteTitleFocus        : "(*´∇｀*) 欢迎回来!",
        WebsiteTitleFocusTimeOut : 1000,
        WebsiteFavicon           : "/image/website/logo.png",

        ProgressBar : {
            id       : "topProgressBar",
            color    : "#77B6FF",
            height   : "2px",
            duration : 0.2
        },

        Loading: {
            rebound : {
                tension  : 16,
                friction : 5
            },
            spinner : {
                id     : "spinner",
                radius : 90,
                sides  : 3,
                depth  : 4,
                colors : {
                    background : "#F0F0F0",
                    stroke     : "#272633",
                    base       : "",
                    child      : "#272633"
                },
                alwaysForward : true,
                restAt        : 0.5,
                renderBase    : false
            }
        },

        HomeHeaderAnimationRendered : true,
        HomeHeaderAnimation         : {
            radius      : 15,
            density     : 0.2,
            color       : "rgba(255, 255, 255, .2)",
            clearOffset : 0.3
        },

        BackAnimationRendered          : true,
        IEBrowserBackAnimationRendered : false,
        BackAnimation                  : {
            colorSaturation  : "60%",
            colorBrightness  : "50%",
            colorAlpha       : 0.5,
            colorCycleSpeed  : 5,
            verticalPosition : "random",
            horizontalSpeed  : 200,
            ribbonCount      : 3,
            strokeSize       : 0,
            parallaxAmount   : -0.2,
            animateSections  : true
        },

        HomeHeaderImage : [
            
                "/image/header/home.jpg",
            
                "/image/header/home.jpeg",
            
                "/image/header/home4.jpg",
            
                "/image/header/home1.jpg",
            
                "/image/header/home2.jpg",
            
                "/image/header/home3.jpg",
            
        ],
        HomeBannerText  : "",

        ArticleHeaderImage : [
            
                "/image/header/article.jpg",
            
        ],

        OtherBannerText : "",

        Error : {
            icon    : "icon-swimming",
            title   : "PAGE NOT FOUND",
            content : [
                
                    "很抱歉，您访问的页面不存在！",
                
                    "可能是输入地址有误或该地址已变更。",
                
            ],
            buttons : [
                
                    {
                        icon  : "icon-home",
                        text  : "返回首页",
                        href  : "/",
                        class : ""
                    },
                
            ]
        },

        MenuNotice : {
            enable : true,
            notice : "简单地活着，肆意而又精彩！",
            speed  : 20
        },
        MenuList : [
            
                {
                    name   : "首页",
                    icon   : "icon-home-fill",
                    href   : "/",
                    type   : "index",
                    class  : "",
                    target : "_self"
                },
            
                {
                    name   : "分类",
                    icon   : "icon-folder-fill",
                    href   : "/category",
                    type   : "category",
                    class  : "",
                    target : "_self"
                },
            
                {
                    name   : "标签",
                    icon   : "icon-discount-fill",
                    href   : "/tag",
                    type   : "tag",
                    class  : "",
                    target : "_self"
                },
            
                {
                    name   : "归档",
                    icon   : "icon-calendar-fill",
                    href   : "/archive",
                    type   : "archive",
                    class  : "",
                    target : "_self"
                },
            
                {
                    name   : "赞赏",
                    icon   : "icon-heart-fill",
                    href   : "/donate",
                    type   : "donate",
                    class  : "",
                    target : "_self"
                },
            
                {
                    name   : "关于",
                    icon   : "icon-about-fill",
                    href   : "/about",
                    type   : "about",
                    class  : "",
                    target : "_self"
                },
            
                {
                    name   : "订阅",
                    icon   : "icon-rss",
                    href   : "/atom.xml",
                    type   : "",
                    class  : "",
                    target : "_blank"
                },
            
                {
                    name   : "搜索",
                    icon   : "icon-search-menu",
                    href   : "javascript:;",
                    type   : "",
                    class  : "search",
                    target : "_self"
                },
            
                {
                    name   : "留言板",
                    icon   : "icon-comments-fill",
                    href   : "/comment",
                    type   : "comment",
                    class  : "",
                    target : "_self"
                },
            
                {
                    name   : "友情链接",
                    icon   : "icon-link",
                    href   : "/friend",
                    type   : "friend",
                    class  : "",
                    target : "_self"
                },
            
        ],
        MenuLink : [
            
                
                    {
                        name   : "知乎",
                        icon   : "icon-zhihu",
                        href   : "https://www.zhihu.com/people/36-35-43-58",
                        class  : "",
                        target : "_blank",
                        image  : ""
                    },
                
                    {
                        name   : "微博",
                        icon   : "icon-weibo",
                        href   : "https://weibo.com/u/7821302597",
                        class  : "",
                        target : "_blank",
                        image  : ""
                    },
                
                    {
                        name   : "QQ",
                        icon   : "icon-qq",
                        href   : "javascript:;",
                        class  : "image",
                        target : "_self",
                        image  : "/image/sidebar/qq.png"
                    },
                
                    {
                        name   : "微信",
                        icon   : "icon-wechat",
                        href   : "javascript:;",
                        class  : "image",
                        target : "_self",
                        image  : "/image/sidebar/wechat.png"
                    },
                
                    {
                        name   : "GitHub",
                        icon   : "icon-github",
                        href   : "https://github.com/yzt6666",
                        class  : "",
                        target : "_blank",
                        image  : ""
                    },
                
            
        ],

        FooterStyle : 2,
        BottomText  : "<div><span class='face'>ღゝ◡╹)ノ♡</span></div><div>【人生若只如初见<span><i class='iconfont icon-like-fill'></i></span>何事秋风悲画扇】</div><div>&copy; 2023-2024 WorstOne. All Rights Reserved.</div>",

        ConsoleList : [
            
                
                    [
                        
                            
                                "Based on cnblogs theme SimpleMemory.",
                            
                                "",
                            
                        
                    ],
                
                    [
                        
                            
                                "SimpleMemory Author:",
                            
                                "BNDong",
                            
                        
                    ],
                
                    [
                        
                            
                                "Theme:",
                            
                                "LiveForCode",
                            
                        
                    ],
                
            
        ],

        FontIconExtend : "",

        Donate : {
            paypal  : "",
            bitcoin : "",
            alipay  : "/image/donate/alipay.png",
            wechat  : "/image/donate/wechat.png"
        },

        Search : {
            applicationID : "010C3EANT8",
            apiKey        : "c7abab9f11b79102b9aff7fe6d41447d",
            indexName     : "Notes",
            hits          : {
                page : 10
            },
            labels        : {
                placeholder : "搜索",
                empty       : "未发现与 「${query}」 相关的内容",
                stats       : "${hits} 条相关条目，使用了 ${time} 毫秒",
            }
        }, 

        Comment : {
            switch : true,
            type   : "Valine",
        },

        Waline : {
            el              : ".comments-content",
            serverURL       : "",
            path            : window.location.pathname,
            meta            : "['nick', 'mail', 'link']",
            requiredMeta    : "['nick', 'mail']",
            pageSize        : 10,
            lang            : "zh-cn",
            locale: {
                admin       : "博主",
                anonymous   : "匿名用户",
                sofa        : "快来做第一个评论的人吧 ~",
                placeholder : "你是我一生只会遇见一次的惊喜...",
            },
            dark            : "html[color-scheme='dark']",
            search          : false,
            pageview        : true,
            comment         : true,
            copyright       : false,
        },

        Valine : {
            el             : ".comments-content",
            appId          : "srhKtvWPQTWYKh3qX8G8M7v0-gzGzoHsz",
            appKey         : "8uVSP1q6UlALVC5igYfIfv2h",
            serverURLs     : "",
            placeholder    : "你是我一生只会遇见一次的惊喜...",
            avatar         : "mm",
            meta           : "nick,mail,link",
            requiredFields : "nick,mail",
            pageSize       : 5,
            lang           : "zh-cn",
            visitor        : true,
            enableQQ       : true
        },

        Tocbot : {
            switch                : true,
            tocSelector           : ".toc",
            contentSelector       : ".article-body",
            headingSelector       : "h1, h2, h3, h4, h5",
            headingsOffset        : 0,
            scrollSmooth          : true,
            scrollSmoothOffset    : -5,
            positionFixedSelector : ".toc",
            positionFixedClass    : "toc-fixed",
            fixedSidebarOffset    : "",
        },

        Require : {
            baseUrl     : "/js/",
            waitSeconds : 100
        },

        Music : {
            type : "Meting"
        },
        APlayer : {
            container : ".aplayer",
            fixed     : true,
            autoplay  : false,
            loop      : "all",
            order     : "random",
            preload   : "auto",
            volume    : 0.67,
            mutex     : true,
            lrcType   : 3,
            audio     : [
                
                    {
                        name   : "Endless Tears",
                        artist : "CLIFF EDGE",
                        cover  : "/music/cover/Endless Tears.jpg",
                        url    : "/music/song/Endless Tears.mp3",
                        lrc    : "/music/lrc/Endless Tears.lrc"
                    },
                
            ]
        },
        Meting : {
            id       : "3778678", 
            lrcshow  : false, 
            server   : "netease", 
            type     : "playlist", 
            fixed    : true, 
            autoplay : false, 
            loop     : "all", 
            order    : "random", 
            preload  : "auto", 
            volume   : 0.67, 
            mutex    : true
        },

        Mouse : {
            enable  : true,
            options : {
                size  : 6,
                sizeF : 24
            }
        },

        LazyLoad : {
            default : "/image/website/lazyload.svg"
        },
  
        Style : {
            aplayer          : "/css/APlayer.css",
            archive          : "/css/archive.css",
            base             : "/css/base.css",
            clipboard        : "/css/clipboard.css",
            code             : "/css/code.css",
            donate           : "/css/donate.css",
            fancybox         : "/css/jquery.fancybox.css",
            footer           : "/css/footer.css",
            iconfont         : "/iconfont/iconfont.css",
            index            : "/css/index.css",
            menuBubble       : "/css/menu-bubble.css",
            mouse            : "/css/mouse.css",
            page             : "/css/page.css",
            post             : "/css/post.css",
            search           : "/css/search.css",
            tocbot           : "/css/tocbot.css",
            valine           : "/css/valine.css",
            waline           : "/css/waline.css",
            walineCustom     : "/css/waline-custom.css"
        },

        Script: {
            aplayer          : "/js/APlayer.min.js",
            config           : "/js/require.config.js",
            index            : "/js/index.js",
            instantSearch    : "/js/instantsearch.min.js",
            iscroll          : "/js/iscroll.js",
            jQuery           : "/js/jquery-3.4.1.min.js",
            loading          : "/js/loading.js",
            meting           : "/js/Meting.min.js",
            require          : "/js/require.min.js",
            waline           : "/js/waline.mjs",
            pageview         : "/js/pageview.mjs",
            comment          : "/js/comment.mjs",
        },

        Font: {
            LongCang    : "/font/LongCang.css",
            Monda       : "/font/Monda.css",
            NotoSansSC  : "/font/NotoSansSC.css",
            NotoSerifSC : "/font/NotoSerifSC.css",
            Playball    : "/font/Playball.css",
            PTMono      : "/font/PTMono.css",
            Roboto      : "/font/Roboto.css",
            RobotoSlab  : "/font/RobotoSlab.css",
            Rosario     : "/font/Rosario.css",
            UbuntuMono  : "/font/UbuntuMono.css"
        },

        Suffix : {
            about : "简单地活着, 肆意又精彩."
        },
            
        Theme : {
            url  : "https://github.com/first19326/Hexo-LiveForCode",
            name : "Hexo - Live For Code"
        }  
    };
</script>
    <script type="text/javascript" src="/js/index.js"></script>
</body>
</html>